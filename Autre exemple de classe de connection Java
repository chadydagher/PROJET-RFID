/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

package javaapplication2;


import java.io.*;
import java.util.*;
import javax.comm.*;


public class SimpleRead implements Runnable, SerialPortEventListener {
    static CommPortIdentifier portId;
    static Enumeration	      portList;
    InputStream		      inputStream;
    SerialPort		      serialPort;
    Thread		      readThread;


    public static void main(String[] args) {
    boolean		      portFound = false;
    String		      defaultPort = "COM1";

 	if (args.length > 0) {
	    defaultPort = args[0];
	}

	portList = CommPortIdentifier.getPortIdentifiers();

	while (portList.hasMoreElements()) {
	    portId = (CommPortIdentifier) portList.nextElement();
	     if (portId.getPortType() == CommPortIdentifier.PORT_SERIAL) {
		if (portId.getName().equals(null)) {
		    System.out.println("Found port: "+defaultPort);
		    portFound = true;
		    SimpleRead reader = new SimpleRead();


		}
               
	    }
	}
      //  
	if (!portFound) {
        
	    System.out.println("port " + defaultPort + " not found.");
	}

    }
